<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slot Machine</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column; /* 세로 방향으로 정렬 */
            justify-content: center; /* 세로 중앙 정렬 */
            align-items: center; /* 가로 중앙 정렬 */
            height: 100vh;
            background-color: black;
            color: white;
            font-family: 'YouandiNewKr title', sans-serif; /* 원하는 폰트 설정 */
        }
        :root {
            --title-spacing: 112px; /* 타이틀과 서브 타이틀 사이의 간격 설정 */
        }
        #title {
            position: absolute;
            top: 40px; /* 화면 상단으로부터 40px 아래 */
            left: 60px; /* 화면 좌측으로부터 20px */
            font-size: 36px; /* 타이틀 폰트 크기 */
            text-align: left; /* 좌측 정렬 */
            line-height: 0.6; /* 행간 조절 */
            font-weight: bold; /* 폰트 두께 설정 */
        }
        #Sub-title {
            position: absolute;
            top: calc(40px + 36px + var(--title-spacing)); /* 타이틀 아래 위치 설정 */
            left: 60px; /* 화면 좌측으로부터 20px */
            font-size: 18px; /* 서브 타이틀 폰트 크기 */
            text-align: left; /* 좌측 정렬 */
            line-height: 0.6; /* 행간 조절 */
            font-weight: medium; /* 폰트 두께 설정 */
        }
        #Program {
            position: absolute;
            top: 40px; /* 화면 상단으로부터 40px 아래 */
            left: 50%; /* 중앙 정렬 */
            transform: translateX(-50%); /* 중앙 정렬 보정 */
            font-size: 60px; /* 프로그램 타이틀 폰트 크기 */
            text-align: center; /* 중앙 정렬 */
            font-weight: bold; /* 폰트 두께 설정 */
        }
        #slot-machine {
            text-align: center;
            font-weight: bold; /* 폰트 두께 설정 */
            margin-top: 80px; /* 타이틀과 서브 타이틀 아래 여백 설정 */
            position: absolute; /* 절대 위치 지정 */
            top: 42%; /* 화면 세로 중앙 */
            left: 50%; /* 화면 가로 중앙 */
            transform: translate(-50%, -50%); /* 중앙 정렬 보정 */
        }
        .slot-frame {
            display: inline-block;
            overflow: hidden;
            width: 200px;
            height: 300px;
            border: 1px solid white; /* 테두리 스타일 */
            margin: 0 7px;
            background-color: black;
            position: relative;
            border-radius: 8px; /* 모서리를 둥글게 설정 */
        }
        .slot {
            font-size: 200pt;
            line-height: 120px;
            position: absolute;
            top: 27%;
            width: 100%;
            color: white;
        }
        #controls {
            position: absolute; /* 하단에 고정 */
            bottom: 80px; /* 하단에서 80px 위 */
            left: 50%; /* 중앙 정렬 */
            transform: translateX(-50%); /* 중앙 정렬 */
        }
        #start-btn {
            font-size: 25px;
            padding: 15px 30px;
            background-color: #ffffff; /* 버튼 배경색 */
            color: #000000; /* 글자색 */
            border: none;
            cursor: pointer;
            text-transform: uppercase; /* 대문자 변환 */
            letter-spacing: 0px; /* 자간 설정 */
            border-radius: 4px; /* 둥글게 설정 */
            transition: background-color 0.1s; /* 호버 효과 */
            font-weight: bold; /* 폰트 두께 설정 */
        }
        #start-btn:hover {
            background-color: #BDBDBD; /* 호버 시 배경색 변경 */
            color: #000000; /* 호버 시 글자색 변경 */
        }
        @keyframes spin {
            0% { top: 100%; }
            100% { top: -100%; }
        }
        .slot.spin {
            animation: spin 0.1s linear infinite; /* 회전 애니메이션 설정 */
        }
    </style>
</head>
<body>
    <div id="Program">LUCKY DRAW</div> <!-- 프로그램 타이틀 추가 -->
    <div id="title">
      <br>2024</br>
      <br>현대카드</br>
      <br>TECH TALK</br>
    </div> <!-- 타이틀 추가 -->
    <div id="Sub-title">
      <br>SMALL TALK ABOUT BIG STEP</br>
    </div> <!-- 서브 타이틀 추가 -->
    <div id="slot-machine">
        <div class="slot-frame"><div class="slot" id="hundreds">7</div></div>
        <div class="slot-frame"><div class="slot" id="tens">7</div></div>
        <div class="slot-frame"><div class="slot" id="ones">7</div></div>
    </div>
    <div id="controls">
        <button id="start-btn" aria-label="Start the slot machine">Start</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const hundredsSlot = document.getElementById("hundreds");
            const tensSlot = document.getElementById("tens");
            const onesSlot = document.getElementById("ones");
            const startButton = document.getElementById("start-btn");

            let isSpinning = false;
            let hundredsInterval, tensInterval, onesInterval;

            // 무작위 숫자를 설정하면서 애니메이션 적용
            function startSpin(element) {
                element.classList.add('spin');
                return setInterval(() => {
                    const randomNum = Math.floor(Math.random() * 10); // 0부터 9까지의 숫자 무작위 회전
                    element.textContent = randomNum;
                }, 100); // 0.1초마다 숫자 변경
            }

            // 회전을 멈추고 최종 숫자를 설정
            function stopSlot(element, finalValue, intervalId, delay) {
                setTimeout(() => {
                    clearInterval(intervalId); // 숫자 변경을 멈춤
                    element.classList.remove('spin'); // 애니메이션 제거
                    element.textContent = finalValue;  // 최종 값 설정
                }, delay);
            }

            startButton.addEventListener("click", () => {
                if (isSpinning) return; // 이미 회전 중이면 무시
                isSpinning = true;

                // 1~270까지의 무작위 숫자 생성
                const randomNumber = Math.floor(Math.random() * 270) + 1;
                const hundreds = Math.floor(randomNumber / 100);
                const tens = Math.floor((randomNumber % 100) / 10);
                const ones = randomNumber % 10;

                // 각 슬롯에 대해 무작위 숫자 회전 시작
                hundredsInterval = startSpin(hundredsSlot);
                tensInterval = startSpin(tensSlot);
                onesInterval = startSpin(onesSlot);

                // 5초 후 최종 숫자 출력 (1의 자리부터 100의 자리까지 0.5초 간격으로)
                stopSlot(onesSlot, ones, onesInterval, 5000);   // 1의 자리 숫자 5초 후 정지
                stopSlot(tensSlot, tens, tensInterval, 5500);   // 10의 자리 숫자 5.5초 후 정지
                stopSlot(hundredsSlot, hundreds, hundredsInterval, 6000); // 100의 자리 숫자 6초 후 정지

                // 모든 슬롯이 멈춘 후 다시 시작 가능하도록
                setTimeout(() => {
                    isSpinning = false;
                }, 6500);
            });
        });
    </script>
</body>
</html>
